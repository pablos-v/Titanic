<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Список пассажиров Титаника</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"/>
    <link rel="stylesheet" href="/css/style.css"/>
    <script th:inline="javascript">
        /*<![CDATA[*/
        const itemsPerPage = /*[[${data.sizeOfPage()}]]*/ 50;
        /*]]>*/
    </script>
    <script th:src="@{/js/script.js}"></script>
</head>
<body>
<h1>Список пассажиров Титаника</h1>
<div class="container">
    <div>
        <div>
            <form>
                <div class="form-row1">
                <label for="size">Записей на странице:</label>
                    <select id="size" name="size">
                        <option value="50">50</option>
                        <option value="100">100</option>
                        <option value="200">200</option>
                    </select>
                    <label for="sort">Сортировка:</label>
                    <select id="sort" name="sort">
                        <option value="NAME_ASC">По имени (возр.)</option>
                        <option value="NAME_DESC">По имени (убыв.)</option>
                        <option value="AGE_ASC">По возрасту (возр.)</option>
                        <option value="AGE_DESC">По возрасту (убыв.)</option>
                        <option value="FARE_ASC">По тарифу (возр.)</option>
                        <option value="FARE_DESC">По тарифу (убыв.)</option>
                    </select>
                    <label for="search">Поиск по имени:</label>
                    <input type="text" id="search" name="search">
                </div>
                <div class="form-row2">
                    <label for="survived">Выжившие пассажиры</label>
                    <input class="form-check-input" type="checkbox" id="survived" name="survived">
                    <label for="is_man">Мужской пол</label>
                    <input class="form-check-input" type="checkbox" id="is_man" name="is_man">
                    <label for="is_adult">Совершеннолетние пассажиры</label>
                    <input class="form-check-input" type="checkbox" id="is_adult" name="is_adult">
                    <label for="no_relatives">Без родственников</label>
                    <input class="form-check-input" type="checkbox" id="no_relatives" name="no_relatives">
                </div>
                <button type="submit">Обновить</button>
            </form>
        </div>
    </div>
    <div>
        <article class="content">
            <div>
                <table class="table table-dark table-striped">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>SURVIVED</th>
                        <th>PCLASS</th>
                        <th>NAME</th>
                        <th>SEX</th>
                        <th>AGE</th>
                        <th>SIBLINGS OR SPOUSES ABOARD</th>
                        <th>PARENTS OR CHILDREN ABOARD</th>
                        <th>FARE</th>
                    </tr>
                    </thead>
                    <tbody th:each="page : ${data.pages()}">
                    <tr th:each="record : ${page.records()}">
                        <td th:text="${record.id()}"></td>
                        <td th:text="${record.survived()}"></td>
                        <td th:text="${record.pclass()}"></td>
                        <td th:text="${record.name()}"></td>
                        <td th:text="${record.sex()}"></td>
                        <td th:text="${record.age()}"></td>
                        <td th:text="${record.numberOfSiblingsOrSpousesAboard()}"></td>
                        <td th:text="${record.numberOfParentsOrChildrenAboard()}"></td>
                        <td th:text="${record.fare()}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </article>
    </div>
    <div>
        <div>
            <p>Общая сумма оплаты проезда: <span th:text="${data.totalFares()}"></span></p>
            <p>Количество людей имеющих родственников на борту: <span th:text="${data.totalWithRelatives()}"></span></p>
            <p>Количество выживших на борту: <span th:text="${data.totalSurvived()}"></span></p>
        </div>
    </div>
</div>
</body>
</html>